[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Structure Wildfire Emissions Estimator and Predictor Demo",
    "section": "",
    "text": "import os\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\nfrom sweep import config\nfrom sweep.estimator_main import sweep_estimator\nprint(\"Imports complete!\")\n\n# We'll set this option so it doesn't abbreviate dataframes.\npd.set_option('display.max_columns', None)\n\nImports complete!"
  },
  {
    "objectID": "index.html#spatial-emissions-estimation-query",
    "href": "index.html#spatial-emissions-estimation-query",
    "title": "Structure Wildfire Emissions Estimator and Predictor Demo",
    "section": "Spatial Emissions Estimation Query",
    "text": "Spatial Emissions Estimation Query\n\nRead in or point to an AOI\n\nFor the spatial filter, users can provide a path to a shapefile (.shp) or geopackage, or use a geodataframe object.\nIt can have one or multiple polygons. In the tool output, columns from the polygon_input are retained and tagged with “AOI” at the start of the column.\n\n\n# Here we read in a file so we can take a look first-- however, aoi_path could also be used as the input for \"polygon_input\".\n# Mosquito (2022) and River (2021) fires.\naoi_path = os.path.join(config.demo_dir, \"demo_multipoly.shp\")\naoi = gpd.read_file(aoi_path)\naoi.plot()\n\n\n\n\n\n\n\n\n\n\nRun sweep_estimator\nHere we run the main function, sweep_estimator.\n\nWe use the get_mode “use_default”, but as stated in the readme users who need to download or refresh the database should use get_mode = “refresh”. NOTE: using “refresh” to pull from the burned structure database requires access to a CARB ArcGIS online organizational login.\npolygon_input can either be a gdf (as in this case) or a path.\nWe can include ‘AOI_INDEX’ in aggregation_fields for a summarized output file to ensure we get a summary per polygon in our aoi dataset.\nNote the three outputs: emissions_gdf (a geodataframe of each structure and its emissions), agg_table (a summary dataframe), and vehicle_table.\n\n\nemissions_gdf, agg_table, vehicle_table = sweep_estimator(\n    get_mode = \"use_default\",\n    filter_method = \"Spatial\",\n    polygon_input = aoi,\n    aggregate_fields=['AIR DISTRICT', 'AOI_INDEX']\n    )\n\nprint(\"Complete!\")\n\nLoading BSDB using use_default...\nApplying filter criteria...\nNo date filter applied.\nReprojecting polygon from EPSG:4326 to EPSG:3310.\n451 rows after spatial filtering with   fire_name    incident_n start_date                          group_id  \\\n0  Mosquito  CATNF 001371 2022-09-06  Mosquito_CATNF 001371_2022-09-06   \n1     River  CANEU 020628 2021-08-04     River_CANEU 020628_2021-08-04   \n\n  fp_source                                           geometry  \n0      FRAP  MULTIPOLYGON (((-120.56853 38.98437, -120.5686...  \n1      FRAP  POLYGON ((-120.99035 39.0844, -120.99116 39.08...  .\nEstimating emissions for pollutants: ['CO', 'NOx', 'SOx', 'PM', 'TOG']...\nHolder efs from: C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\data\\emissions_factors\\Holder_EFs.xlsx\nRequested pollutants: ['CO', 'NOx', 'SOx', 'PM', 'TOG']\nReturned pollutants: ['CO' 'NOx' 'SOx' 'PM' 'TOG']\nAggregating report by: ['AIR DISTRICT', 'AOI_INDEX']...\nCalculating vehicle emissions with HOLDER factors...\nRatio provided: 311.04 vehicles estimated using ratio: 1.44\nHolder efs from: C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\data\\emissions_factors\\Holder_EFs.xlsx\nRequested pollutants: ['CO', 'NOx', 'SOx', 'PM']\nReturned pollutants: ['CO' 'NOx' 'SOx' 'PM']\nReports written to folder: C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\outputs\\SWEEP_20250621_221211\nTabular reports written.\nSpatial data written to C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\outputs\\SWEEP_20250621_221211\\Emissions_Spatial.gpkg\nComplete!\n\n\n\n\nOutputs\nIn the returned dataframes, columns from the aoi_source are retained and tagged with “AOI” at the start of the column.\n\nEmissions Report\nemissions_gdf is a geodataframe of each structure and their estimated emissions, along with parameters used in the estimation process.\n\nprint(emissions_gdf.crs)\nemissions_gdf.head(5)\n\nEPSG:3310\n\n\n\n\n\n\n\n\n\nAOI_FIRE_NAME\nAOI_INCIDENT_N\nAOI_START_DATE\nAOI_GROUP_ID\nAOI_FP_SOURCE\nAOI_INDEX\nINCIDENTNAME\nINCIDENTNUM\nSTART_DATE\nGLOBALID_DINS\nDAMAGE\nSTRUCTURETYPE\nSTRUCTURECATEGORY\nCAT\nSQFT\nSQFT_SOURCE\nCOUNTY\nAIR_BASIN\nAIR_DISTRICT\nCOABDIS\nCONSUMPTION_FACTOR\nFRAME_FACTOR\nCONTENTS_FACTOR\ngeometry\nE_CO_TN\nE_NOX_TN\nE_SOX_TN\nE_PM_TN\nE_TOG_TN\nMONTH\nYEAR\n\n\n\n\n60130\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n1\nRiver\nCANEU 020628\n2021-08-04\n{5A6B63E7-0584-4A3D-9566-D1BED0D23610}\nDestroyed (&gt;50%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1458.0\nMEDIAN\nPlacer\nMOUNTAIN COUNTIES\nPlacer\n31_MC_PLA\n0.95\n31.07\n5.87\nPOINT (-84115.053 121871.211)\n1.765\n0.008\n0.002\n1.005\n0.073\n8\n2021\n\n\n60132\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n1\nRiver\nCANEU 020628\n2021-08-04\n{28A405D3-B735-4C6A-9030-5DB781554E63}\nDestroyed (&gt;50%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1458.0\nMEDIAN\nPlacer\nMOUNTAIN COUNTIES\nPlacer\n31_MC_PLA\n0.95\n31.07\n5.87\nPOINT (-84075.412 121847.802)\n1.765\n0.008\n0.002\n1.005\n0.073\n8\n2021\n\n\n60133\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n1\nRiver\nCANEU 020628\n2021-08-04\n{A8436F57-068C-4D19-B659-48B51EE6DCA0}\nDestroyed (&gt;50%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1458.0\nMEDIAN\nPlacer\nMOUNTAIN COUNTIES\nPlacer\n31_MC_PLA\n0.95\n31.07\n5.87\nPOINT (-84093.56 121769.283)\n1.765\n0.008\n0.002\n1.005\n0.073\n8\n2021\n\n\n60135\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n1\nRiver\nCANEU 020628\n2021-08-04\n{18869BDE-69CE-4F93-B844-2F9C416A57CD}\nNo Damage\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n2411.0\nPARCEL\nPlacer\nMOUNTAIN COUNTIES\nPlacer\n31_MC_PLA\n0.00\n31.07\n5.87\nPOINT (-84135.956 121591.938)\n0.000\n0.000\n0.000\n0.000\n0.000\n8\n2021\n\n\n60136\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n1\nRiver\nCANEU 020628\n2021-08-04\n{84EC24BE-B097-4FB8-8287-406BB9929E4F}\nDestroyed (&gt;50%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1458.0\nMEDIAN\nPlacer\nMOUNTAIN COUNTIES\nPlacer\n31_MC_PLA\n0.95\n31.07\n5.87\nPOINT (-83735.224 122402.04)\n1.765\n0.008\n0.002\n1.005\n0.073\n8\n2021\n\n\n\n\n\n\n\nAs a geodataframe, the output is easily visualized using the geopandas and matplotlib libraries.\n\n# Read the AOI in to use as a base layer\naoi = gpd.read_file(aoi_path)\n\n# Project to match emissions gdf\naoi_gdf = aoi.to_crs(emissions_gdf.crs)\n\nfig, ax = plt.subplots(figsize=(6, 8))\n\naoi_gdf.plot(ax=ax, color='none', edgecolor='lightgray', linewidth=1)\n\n# Scale the dots based off of emissions of CO.\nsizes = emissions_gdf[\"E_CO_TN\"].fillna(0) * 5\nemissions_gdf.plot(\n    ax=ax,\n    color='orange',\n    alpha=0.6,\n    markersize=sizes\n)\nax.set_title(\"Emissions Map (CO in Tons)\", fontsize=14)\n\nText(0.5, 1.0, 'Emissions Map (CO in Tons)')\n\n\n\n\n\n\n\n\n\n\n\nAggregated Table\nIn this demo run, we provided “AIR DISTRICT” and “AOI_INDEX” as the aggregation fields. As you can see our results are split by AOI_INDEX (the polygon) and AIR_DISTRICT. We get total emissions for each polygon in each air district.\n\nagg_table.head()\n\n\n\n\n\n\n\n\nAIR_DISTRICT\nAOI_INDEX\nE_CO_TN\nE_NOX_TN\nE_SOX_TN\nE_PM_TN\nE_TOG_TN\nDAMAGED_STRUCTURES\n\n\n\n\n0\nEl Dorado\n0\n70.53\n0.33\n0.07\n40.17\n2.92\n40\n\n\n1\nNorthern Sierra\n1\n150.28\n0.71\n0.14\n85.59\n6.22\n79\n\n\n2\nPlacer\n0\n55.88\n0.26\n0.05\n31.82\n2.32\n37\n\n\n3\nPlacer\n1\n129.24\n0.61\n0.12\n73.60\n5.35\n62\n\n\n\n\n\n\n\nWe can use the full dataframe to add other AOI attributes back in:\n\n# Get the full list of AOI_ columns from the emissions_gdf dataframe\naoi_cols = [col for col in emissions_gdf.columns if col.startswith(\"AOI_\")]\n\n# Drop duplicates to get unique AOI records\nunique_aoi = emissions_gdf[aoi_cols].drop_duplicates()\n\n# Merge with agg_table on AOI_INDEX\nagg_table_aoi = agg_table.merge(unique_aoi, on=\"AOI_INDEX\", how=\"left\")\nagg_table_aoi.head()\n\n\n\n\n\n\n\n\nAIR_DISTRICT\nAOI_INDEX\nE_CO_TN\nE_NOX_TN\nE_SOX_TN\nE_PM_TN\nE_TOG_TN\nDAMAGED_STRUCTURES\nAOI_FIRE_NAME\nAOI_INCIDENT_N\nAOI_START_DATE\nAOI_GROUP_ID\nAOI_FP_SOURCE\n\n\n\n\n0\nEl Dorado\n0\n70.53\n0.33\n0.07\n40.17\n2.92\n40\nMosquito\nCATNF 001371\n2022-09-06\nMosquito_CATNF 001371_2022-09-06\nFRAP\n\n\n1\nNorthern Sierra\n1\n150.28\n0.71\n0.14\n85.59\n6.22\n79\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n\n\n2\nPlacer\n0\n55.88\n0.26\n0.05\n31.82\n2.32\n37\nMosquito\nCATNF 001371\n2022-09-06\nMosquito_CATNF 001371_2022-09-06\nFRAP\n\n\n3\nPlacer\n1\n129.24\n0.61\n0.12\n73.60\n5.35\n62\nRiver\nCANEU 020628\n2021-08-04\nRiver_CANEU 020628_2021-08-04\nFRAP\n\n\n\n\n\n\n\n\n\nVehicle Table\nA very rough estimation of emissions from vehicles (currently there is no statewide open-source real-time report of vehicles destroyed by wildfire). The default method is to estimate the count of vehicles as 1.44 vehicle destroyed per structure destroyed (consumption &gt;50%), a method obtained from Holder et al. 2023. Users can specify what emissions factors and pollutants to use in the vef_choice and vpollutants arguments in sweep_estimator.\n\nvehicle_table\n\n\n\n\n\n\n\n\nPOLLUTANT\nVEHICLE_GFIRE\nVEHICLE_GKG\nVEHICLES\nTOTAL_VEHICLE_EMISSIONS_TN\n\n\n\n\n1\nCO\n22128.0\n48.0\n311.04\n7.59\n\n\n2\nNOx\n1844.0\n4.0\n311.04\n0.63\n\n\n8\nSOx\n875.9\n1.9\n311.04\n0.30\n\n\n15\nPM\n26369.2\n57.2\n311.04\n9.04"
  },
  {
    "objectID": "index.html#automated-emissions-estimation-query",
    "href": "index.html#automated-emissions-estimation-query",
    "title": "Structure Wildfire Emissions Estimator and Predictor Demo",
    "section": "Automated Emissions Estimation Query",
    "text": "Automated Emissions Estimation Query\n\nIn an “automated” query, we can set filter_field, filter_values, and, optionally, date ranges (apply_date_filter, start_date, and end_date).\nThis allows users to run a query without working through the interactive tool.\nIf you’re savvy you can loop over date ranges or other filter_fields/filter_values to get a series of reports.\nIf running in an IDE, hovering over any function should provide typing hints and parameter information.\n\n\nRun sweep_estimator with pre-set filter fields\n\nemissions_gdf_auto, agg_table_auto, vehicle_table_auto = sweep_estimator(\n    get_mode = \"use_default\",\n    filter_method = \"automated\",\n    filter_field = \"Air Basin\",\n    field_values = [\"MOUNTAIN COUNTIES\", \"SAN JOAQUIN VALLEY\"],\n    apply_date_filter = True,\n    start_date = \"2018-01-01\",\n    end_date = \"2021-01-01\",\n    aggregate_fields=['AIR DISTRICT', 'YEAR', 'INCIDENT'],\n    # Adding a few more arguments-- here we specify the emissions factor source (HOLDER)\n    ef_choice = \"HOLDER\",\n    # And here we override the default to say we want ALL the pollutants available for the emissions factor source.\n    pollutants = \"All\",\n    write = \"No\"\n    )\n\nprint(\"Complete!\")\nemissions_gdf_auto.head()\n\nLoading BSDB using use_default...\nApplying filter criteria...\n59137 rows after date filtering from 2018-01-01 to 2021-01-01.\n4501 rows after filtering by Air Basin: ['MOUNTAIN COUNTIES', 'SAN JOAQUIN VALLEY'].\nEstimating emissions for pollutants: All...\nHolder efs from: C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\data\\emissions_factors\\Holder_EFs.xlsx\nRequested pollutants: All\nReturned pollutants: ['CO2' 'CO' 'NOx' 'NO' 'NO2 ' 'HCN' 'NH3' 'SO2' 'SOx' 'H2S' 'HCl' 'HBr'\n 'HF' 'THC' 'Isocyanates' 'PM' 'Elemental Carbon' 'Organic Carbon' 'Pb'\n 'Sb' 'Cl' 'Br' 'TOG' 'Benzene' 'Chlorobenzene' 'Toluene' 'Ethylbenzene'\n 'Ethynylbenzene' 'Styrene' 'Ethene' 'Phenol' 'Pyridine' 'Benzonitrile'\n 'Formaldehyde' 'Acetaldehyde' 'Acrolein' 'PAH' 'Naphthalene'\n 'Acenaphthene' 'Acenaphthylene' 'Methylnaphthalenes' 'Biphenyl' 'Indene'\n 'Fluorene' 'Phenanthrene' 'Anthracene' 'Fluoranthene' 'Pyrene'\n 'Benzo(a)fluorene' 'Benzo(b)fluorene' 'Benz(a)anthracene' 'Chrysene'\n 'Benzo(b)fluoranthene' 'Benzo(k)fluoranthene' 'Benzo(a)pyrene'\n 'Benzo(e)pyrene' 'Perylene' 'Indeno(1,2,3-c,d)pyrene'\n 'Benzo(g,h,i,)perylene' 'Dibenzo(a,h)anthracene' 'Coronene' 'PCDD' 'PCDF']\nAggregating report by: ['AIR DISTRICT', 'YEAR', 'INCIDENT']...\nCalculating vehicle emissions with HOLDER factors...\nRatio provided: 1738.08 vehicles estimated using ratio: 1.44\nHolder efs from: C:\\Users\\gstarrs\\Projects\\CARB\\sweep_test\\data\\emissions_factors\\Holder_EFs.xlsx\nRequested pollutants: ['CO', 'NOx', 'SOx', 'PM']\nReturned pollutants: ['CO' 'NOx' 'SOx' 'PM']\nComplete!\n\n\n\n\n\n\n\n\n\nINCIDENTNAME\nINCIDENTNUM\nSTART_DATE\nGLOBALID_DINS\nDAMAGE\nSTRUCTURETYPE\nSTRUCTURECATEGORY\nCAT\nSQFT\nSQFT_SOURCE\nCOUNTY\nAIR_BASIN\nAIR_DISTRICT\nCOABDIS\nCONSUMPTION_FACTOR\nFRAME_FACTOR\nCONTENTS_FACTOR\ngeometry\nE_CO2_TN\nE_CO_TN\nE_NOX_TN\nE_NO_TN\nE_NO2 _TN\nE_HCN_TN\nE_NH3_TN\nE_SO2_TN\nE_SOX_TN\nE_H2S_TN\nE_HCL_TN\nE_HBR_TN\nE_HF_TN\nE_THC_TN\nE_ISOCYANATES_TN\nE_PM_TN\nE_ELEMENTAL CARBON_TN\nE_ORGANIC CARBON_TN\nE_PB_TN\nE_SB_TN\nE_CL_TN\nE_BR_TN\nE_TOG_TN\nE_BENZENE_TN\nE_CHLOROBENZENE_TN\nE_TOLUENE_TN\nE_ETHYLBENZENE_TN\nE_ETHYNYLBENZENE_TN\nE_STYRENE_TN\nE_ETHENE_TN\nE_PHENOL_TN\nE_PYRIDINE_TN\nE_BENZONITRILE_TN\nE_FORMALDEHYDE_TN\nE_ACETALDEHYDE_TN\nE_ACROLEIN_TN\nE_PAH_TN\nE_NAPHTHALENE_TN\nE_ACENAPHTHENE_TN\nE_ACENAPHTHYLENE_TN\nE_METHYLNAPHTHALENES_TN\nE_BIPHENYL_TN\nE_INDENE_TN\nE_FLUORENE_TN\nE_PHENANTHRENE_TN\nE_ANTHRACENE_TN\nE_FLUORANTHENE_TN\nE_PYRENE_TN\nE_BENZO(A)FLUORENE_TN\nE_BENZO(B)FLUORENE_TN\nE_BENZ(A)ANTHRACENE_TN\nE_CHRYSENE_TN\nE_BENZO(B)FLUORANTHENE_TN\nE_BENZO(K)FLUORANTHENE_TN\nE_BENZO(A)PYRENE_TN\nE_BENZO(E)PYRENE_TN\nE_PERYLENE_TN\nE_INDENO(1,2,3-C,D)PYRENE_TN\nE_BENZO(G,H,I,)PERYLENE_TN\nE_DIBENZO(A,H)ANTHRACENE_TN\nE_CORONENE_TN\nE_PCDD_TN\nE_PCDF_TN\nMONTH\nYEAR\n\n\n\n\n656\nWagner\nCAMMU 016004\n2018-08-04\n{CA9382AF-9449-4988-98CE-C00CE3C55B32}\nDestroyed (&gt;50%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1458.000000\nMEDIAN\nMariposa\nMOUNTAIN COUNTIES\nMariposa\n22_MC_MPA\n0.95\n31.07\n5.87\nPOINT (-9578.918 -33825.916)\n33.897\n1.765\n0.008\n0.013\n0.014\n0.038\n0.021\n0.002\n0.002\n0.056\n0.281\n0.008\n0.0\n1.489\n0.0\n1.005\n0.196\n0.045\n0.0\n0.0\n0.091\n0.0\n0.073\n0.015\n0.008\n0.003\n0.001\n0.002\n0.002\n0.011\n0.001\n0.001\n0.001\n0.006\n0.005\n0.0\n0.002\n0.003\n0.0\n0.002\n0.001\n0.001\n0.001\n0.0\n0.002\n0.0\n0.001\n0.001\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n8\n2018\n\n\n1486\nFrazier\nCAFKU 007893\n2018-06-03\n{1765CBC6-51CC-4A19-883C-1F5509FC5A3F}\nMinor (10-25%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1752.000000\nPARCEL\nFresno\nSAN JOAQUIN VALLEY\nSan Joaquin Valley Unified\n10_SJV_SJU\n0.00\n31.07\n5.87\nPOINT (43612.19 -105244.953)\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.0\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n6\n2018\n\n\n1504\nOmega\nCAAEU 021770\n2018-08-01\n{39799A65-7A77-4BC3-BFD6-B042F640C830}\nNo Damage\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1391.000000\nPARCEL\nEl Dorado\nMOUNTAIN COUNTIES\nEl Dorado\n9_MC_ED\n0.00\n31.07\n5.87\nPOINT (-89600.032 90657.664)\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.0\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n8\n2018\n\n\n1505\nOmega\nCAAEU 021770\n2018-08-01\n{92C931E6-9D5F-47B5-B82B-968E7AAA02D8}\nMinor (10-25%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1777.000000\nPARCEL\nEl Dorado\nMOUNTAIN COUNTIES\nEl Dorado\n9_MC_ED\n0.00\n31.07\n5.87\nPOINT (-89674.345 90491.003)\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.0\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n8\n2018\n\n\n1506\nOmega\nCAAEU 021770\n2018-08-01\n{288E3A2E-03B8-4FA3-9A05-85503FBC3A4C}\nMinor (10-25%)\nSingle Family Residence Single Story\nSingle Residence\nSFSS\n1666.421397\nMODEL_A\nEl Dorado\nMOUNTAIN COUNTIES\nEl Dorado\n9_MC_ED\n0.00\n31.07\n5.87\nPOINT (-89807.299 90485.001)\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.0\n0.0\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.000\n0.0\n0.000\n0.000\n0.000\n0.000\n0.0\n0.000\n0.0\n0.000\n0.000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n8\n2018\n\n\n\n\n\n\n\n\nTIP for filtering\nSince it is difficult to document every possible choice for each field value for each potential filter field (choices: [“Wildfire Name”, “Incident Number”, “County”, “Air Basin”, “Air District”, “CoAbDis Code”]), you can pull possible values from the current BSDB database.\n\n# We read in one of the classes from the package.\nfrom sweep.get_bsdb import GetBSDB\n\n# bsdb_df is the geodataframe of the BSDB.\nbsdb_df = GetBSDB(\"use_default\").bsdb_df\n\n\n# Air basins in the dataset:\nprint(f\"Air Basins: {bsdb_df['BASIN_NAME'].unique()}\")\n\n# Air districts in the dataset:\nprint(f\"Air Districts: {bsdb_df['DIS_NAME'].unique()}\")\n\n# All filter field column names: [\"incidentname\", \"incidentnum\", \"CO_NAME\", \"BASIN_NAME\", \"DIS_NAME\", \"COABDIS\"]\n# Note the argument filter_field uses the cleaned-up names: [\"Wildfire Name\", \"Incident Number\", \"County\", \"Air Basin\", \"Air District\", \"CoAbDis Code\"]\n\n# Date field: [\"clean_date\"]\n\nAir Basins: ['SOUTH COAST' 'SOUTH CENTRAL COAST' 'NORTH COAST'\n 'SAN FRANCISCO BAY AREA' 'SAN DIEGO COUNTY' 'MOUNTAIN COUNTIES'\n 'SACRAMENTO VALLEY' 'LAKE COUNTY' 'SAN JOAQUIN VALLEY'\n 'NORTHEAST PLATEAU' 'MOJAVE DESERT' 'NORTH CENTRAL COAST'\n 'GREAT BASIN VALLEYS' 'LAKE TAHOE' 'SALTON SEA' '']\nAir Districts: ['South Coast' 'Santa Barbara' 'Ventura' 'Northern Sonoma' 'Bay Area'\n 'San Diego' 'San Luis Obispo' 'Mariposa' 'Butte' 'Lake' 'Yolo-Solano'\n 'San Joaquin Valley Unified' 'Placer' 'El Dorado' 'Mendocino' 'Shasta'\n 'Tehama' 'Lassen' 'North Coast Unified' 'Siskiyou' 'Amador' 'Calaveras'\n 'Tuolumne' 'Antelope Valley' 'Monterey Bay Unified' 'Kern'\n 'Northern Sierra' 'Feather River' 'Glenn' 'Sacramento Metro'\n 'Great Basin Unified' '' 'Mojave Desert' 'Colusa']\n\n\nNOTE:\n\nAll filter field column names: [“incidentname”, “incidentnum”, “CO_NAME”, “BASIN_NAME”, “DIS_NAME”, “COABDIS”]\nThe argument filter_field uses the cleaned-up names: [“Wildfire Name”, “Incident Number”, “County”, “Air Basin”, “Air District”, “CoAbDis Code”]\n\nHave fun!\n\n\n\nOutputs\nThe outputs are the same as for the interactive and spatial query types. As specified in “aggregate_fields”, the aggregate table is summarized by year, air district, and fire incident.\n\nagg_table_auto\n\n\n\n\n\n\n\n\nAIR_DISTRICT\nYEAR\nINCIDENTNAME\nE_CO2_TN\nE_CO_TN\nE_NOX_TN\nE_NO_TN\nE_NO2 _TN\nE_HCN_TN\nE_NH3_TN\nE_SO2_TN\nE_SOX_TN\nE_H2S_TN\nE_HCL_TN\nE_HBR_TN\nE_HF_TN\nE_THC_TN\nE_ISOCYANATES_TN\nE_PM_TN\nE_ELEMENTAL CARBON_TN\nE_ORGANIC CARBON_TN\nE_PB_TN\nE_SB_TN\nE_CL_TN\nE_BR_TN\nE_TOG_TN\nE_BENZENE_TN\nE_CHLOROBENZENE_TN\nE_TOLUENE_TN\nE_ETHYLBENZENE_TN\nE_ETHYNYLBENZENE_TN\nE_STYRENE_TN\nE_ETHENE_TN\nE_PHENOL_TN\nE_PYRIDINE_TN\nE_BENZONITRILE_TN\nE_FORMALDEHYDE_TN\nE_ACETALDEHYDE_TN\nE_ACROLEIN_TN\nE_PAH_TN\nE_NAPHTHALENE_TN\nE_ACENAPHTHENE_TN\nE_ACENAPHTHYLENE_TN\nE_METHYLNAPHTHALENES_TN\nE_BIPHENYL_TN\nE_INDENE_TN\nE_FLUORENE_TN\nE_PHENANTHRENE_TN\nE_ANTHRACENE_TN\nE_FLUORANTHENE_TN\nE_PYRENE_TN\nE_BENZO(A)FLUORENE_TN\nE_BENZO(B)FLUORENE_TN\nE_BENZ(A)ANTHRACENE_TN\nE_CHRYSENE_TN\nE_BENZO(B)FLUORANTHENE_TN\nE_BENZO(K)FLUORANTHENE_TN\nE_BENZO(A)PYRENE_TN\nE_BENZO(E)PYRENE_TN\nE_PERYLENE_TN\nE_INDENO(1,2,3-C,D)PYRENE_TN\nE_BENZO(G,H,I,)PERYLENE_TN\nE_DIBENZO(A,H)ANTHRACENE_TN\nE_CORONENE_TN\nE_PCDD_TN\nE_PCDF_TN\nDAMAGED_STRUCTURES\n\n\n\n\n0\nAmador\n2018\nIrish\n33.95\n1.77\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.06\n0.28\n0.01\n0.0\n1.49\n0.0\n1.01\n0.20\n0.04\n0.00\n0.0\n0.09\n0.0\n0.07\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n1\nAmador\n2019\nWillow\n33.90\n1.76\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.06\n0.28\n0.01\n0.0\n1.49\n0.0\n1.00\n0.20\n0.04\n0.00\n0.0\n0.09\n0.0\n0.07\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n2\nCalaveras\n2018\nHorse\n64.95\n3.38\n0.02\n0.02\n0.03\n0.07\n0.04\n0.00\n0.00\n0.11\n0.54\n0.02\n0.0\n2.85\n0.0\n1.93\n0.38\n0.09\n0.00\n0.0\n0.18\n0.0\n0.14\n0.03\n0.01\n0.01\n0.00\n0.00\n0.00\n0.02\n0.00\n0.00\n0.00\n0.01\n0.01\n0.00\n0.00\n0.01\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n2.0\n\n\n3\nCalaveras\n2018\nWaverly\n37.95\n1.98\n0.01\n0.01\n0.02\n0.04\n0.02\n0.00\n0.00\n0.06\n0.32\n0.01\n0.0\n1.67\n0.0\n1.13\n0.22\n0.05\n0.00\n0.0\n0.10\n0.0\n0.08\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n4\nEl Dorado\n2018\nMeyers\n146.93\n7.65\n0.04\n0.06\n0.06\n0.17\n0.09\n0.01\n0.01\n0.24\n1.22\n0.04\n0.0\n6.46\n0.0\n4.36\n0.85\n0.20\n0.00\n0.0\n0.39\n0.0\n0.32\n0.06\n0.03\n0.01\n0.00\n0.01\n0.01\n0.05\n0.00\n0.00\n0.00\n0.03\n0.02\n0.00\n0.01\n0.01\n0.0\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n4.0\n\n\n5\nEl Dorado\n2018\nOmega\n31.80\n1.66\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.05\n0.26\n0.01\n0.0\n1.40\n0.0\n0.94\n0.18\n0.04\n0.00\n0.0\n0.08\n0.0\n0.07\n0.01\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n6\nEl Dorado\n2019\nCounty\n55.87\n2.91\n0.01\n0.02\n0.02\n0.06\n0.04\n0.00\n0.00\n0.09\n0.46\n0.01\n0.0\n2.45\n0.0\n1.66\n0.32\n0.07\n0.00\n0.0\n0.15\n0.0\n0.12\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.02\n0.00\n0.00\n0.00\n0.01\n0.01\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n2.0\n\n\n7\nEl Dorado\n2019\nRimrock\n33.90\n1.76\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.06\n0.28\n0.01\n0.0\n1.49\n0.0\n1.00\n0.20\n0.04\n0.00\n0.0\n0.09\n0.0\n0.07\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n8\nEl Dorado\n2020\nCameron\n64.80\n3.37\n0.02\n0.02\n0.03\n0.07\n0.04\n0.00\n0.00\n0.11\n0.54\n0.02\n0.0\n2.85\n0.0\n1.92\n0.38\n0.09\n0.00\n0.0\n0.17\n0.0\n0.14\n0.03\n0.02\n0.01\n0.00\n0.00\n0.00\n0.02\n0.00\n0.00\n0.00\n0.01\n0.01\n0.00\n0.00\n0.01\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n2.0\n\n\n9\nMariposa\n2018\nWagner\n309.20\n16.10\n0.08\n0.12\n0.13\n0.35\n0.19\n0.02\n0.02\n0.51\n2.57\n0.08\n0.0\n13.58\n0.0\n9.17\n1.79\n0.41\n0.00\n0.0\n0.83\n0.0\n0.67\n0.13\n0.07\n0.03\n0.01\n0.02\n0.02\n0.10\n0.01\n0.01\n0.01\n0.06\n0.04\n0.00\n0.02\n0.03\n0.0\n0.02\n0.01\n0.01\n0.01\n0.00\n0.02\n0.00\n0.01\n0.01\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n7.0\n\n\n10\nNorthern Sierra\n2020\nJones\n663.40\n34.54\n0.16\n0.25\n0.28\n0.75\n0.41\n0.03\n0.03\n1.10\n5.50\n0.16\n0.0\n29.14\n0.0\n19.67\n3.84\n0.88\n0.00\n0.0\n1.78\n0.0\n1.43\n0.29\n0.15\n0.06\n0.02\n0.04\n0.04\n0.22\n0.02\n0.02\n0.02\n0.12\n0.10\n0.00\n0.04\n0.06\n0.0\n0.04\n0.02\n0.02\n0.02\n0.00\n0.04\n0.00\n0.02\n0.02\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n18.0\n\n\n11\nNorthern Sierra\n2020\nNorth Complex\n934.80\n48.68\n0.23\n0.36\n0.39\n1.06\n0.58\n0.05\n0.05\n1.55\n7.76\n0.22\n0.0\n41.06\n0.0\n27.72\n5.41\n1.24\n0.00\n0.0\n2.51\n0.0\n2.02\n0.41\n0.21\n0.08\n0.03\n0.06\n0.06\n0.30\n0.03\n0.02\n0.03\n0.17\n0.14\n0.00\n0.05\n0.08\n0.0\n0.06\n0.03\n0.02\n0.03\n0.00\n0.06\n0.00\n0.03\n0.03\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n25.0\n\n\n12\nSan Joaquin Valley Unified\n2018\nFrazier\n33.90\n1.76\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.06\n0.28\n0.01\n0.0\n1.49\n0.0\n1.00\n0.20\n0.04\n0.00\n0.0\n0.09\n0.0\n0.07\n0.02\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0\n\n\n13\nSan Joaquin Valley Unified\n2020\nCreek\n31600.97\n1645.57\n7.74\n11.99\n13.24\n35.71\n19.63\n1.57\n1.57\n52.22\n262.23\n7.62\n0.0\n1388.08\n0.0\n937.18\n183.01\n41.98\n0.06\n0.0\n84.84\n0.0\n68.16\n13.70\n7.19\n2.80\n1.20\n1.82\n2.13\n10.31\n0.86\n0.84\n1.18\n5.83\n4.61\n0.17\n1.74\n2.66\n0.0\n1.98\n0.86\n0.83\n0.96\n0.20\n2.08\n0.06\n0.86\n0.86\n0.0\n0.0\n0.01\n0.04\n0.15\n0.0\n0.01\n0.0\n0.0\n0.04\n0.04\n0.0\n0.0\n0.0\n0.0\n871.0\n\n\n14\nSan Joaquin Valley Unified\n2020\nSCU Lightning Cmplx\n1647.28\n85.78\n0.40\n0.63\n0.69\n1.86\n1.02\n0.09\n0.09\n2.72\n13.66\n0.39\n0.0\n72.36\n0.0\n48.85\n9.53\n2.19\n0.00\n0.0\n4.42\n0.0\n3.55\n0.72\n0.38\n0.15\n0.06\n0.09\n0.10\n0.54\n0.05\n0.04\n0.06\n0.30\n0.24\n0.00\n0.09\n0.14\n0.0\n0.10\n0.05\n0.04\n0.05\n0.00\n0.10\n0.00\n0.05\n0.05\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n52.0\n\n\n15\nSan Joaquin Valley Unified\n2020\nSQF Complex\n9037.80\n470.61\n2.21\n3.44\n3.77\n10.23\n5.63\n0.42\n0.42\n14.93\n74.98\n2.19\n0.0\n396.98\n0.0\n268.04\n52.33\n12.01\n0.00\n0.0\n24.24\n0.0\n19.52\n3.95\n2.07\n0.82\n0.33\n0.52\n0.63\n2.93\n0.22\n0.21\n0.33\n1.67\n1.35\n0.09\n0.51\n0.73\n0.0\n0.54\n0.22\n0.21\n0.30\n0.09\n0.63\n0.00\n0.22\n0.22\n0.0\n0.0\n0.00\n0.00\n0.08\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n233.0\n\n\n16\nTuolumne\n2018\nRuby\n31.43\n1.64\n0.01\n0.01\n0.01\n0.04\n0.02\n0.00\n0.00\n0.05\n0.26\n0.01\n0.0\n1.38\n0.0\n0.93\n0.18\n0.04\n0.00\n0.0\n0.08\n0.0\n0.07\n0.01\n0.01\n0.00\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.01\n0.00\n0.00\n0.00\n0.00\n0.0\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.00\n0.0\n0.0\n0.00\n0.00\n0.00\n0.0\n0.00\n0.0\n0.0\n0.00\n0.00\n0.0\n0.0\n0.0\n0.0\n1.0"
  }
]